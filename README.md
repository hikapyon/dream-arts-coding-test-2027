# 最長片道きっぷの旅 (Longest One-Way Ticket Journey)

株式会社ドリーム・アーツ 2027年新卒採用 エンジニア採用コーディングテストの解答プログラムです。
「最長片道きっぷ」の問題（グラフの最長経路問題）を、深さ優先探索 (DFS) を用いて解いています。

## 動作環境

* **言語**: Python 3.x
* **ライブラリ**: 標準ライブラリのみ使用（`sys` など）
* **OS**: Windows, macOS, Linux (x86_64) クロスプラットフォーム対応

## ファイル構成

* `coding_test.py`: ソースコード本体
* `run_tests.py`: テスト一括実行用スクリプト
* `test*.txt`: テストケース用データ
* `README.md`: 本ドキュメント

## 実行方法

このプログラムは「ファイルからの入力」と「手動での直接入力」の両方に対応しています。

### 1. ファイルを使って実行する場合（推奨）

あらかじめテストデータ（例: `input.txt`）を作成し、標準入力としてリダイレクトする方法です。

#### 準備
`coding_test.py` と同じフォルダに、以下のような内容のテキストファイル `input.txt` を作成してください。
```text
1, 2, 8.54
2, 3, 3.11
3, 1, 2.19
3, 4, 4
4, 1, 1.4
```

#### コマンド

Windows (コマンドプロンプト)
python coding_test.py < input.txt

Windows (PowerShell)
Get-Content input.txt | python coding_test.py

macOS / Linux
python3 coding_test.py < input.txt

### 2. 手動で直接入力する場合
ファイルを作らず、キーボードから直接データを入力して実行することも可能です。 データの入力が終わったら、Enterキーをもう一度押して（空行を入力して）終了してください。

#### 手順
以下のコマンドでプログラムを起動します。

python coding_test.py
(mac/linuxの場合は python3 coding_test.py)
画面が入力を待っている状態になるので、データを1行ずつ貼り付け（または入力）ます。

最後の行を入力した後、Enterキーを2回押します（空の行を入力）。

自動的に計算が始まり、結果が表示されます。

入力例

1, 2, 8.54
2, 3, 3.11
... (中略) ...
4, 1, 1.4
[Enter]
[Enter]  <-- 空行で入力終了と判定されます

## テストの実行
同梱の run_tests.py を実行すると、ディレクトリ内の tests\test*.txt を自動検出し、全てのテストケースを一括で検証できます。

python run_tests.py


## 実装のポイント
### アルゴリズム
深さ優先探索 (DFS) + バックトラッキングを採用し、全探索を行っています。
再帰処理を用いて、行き止まりになったら一つ前の分岐に戻り、別のルートを探索します。

### 制約条件への対応

「同じ点を2回通れない」: visited セットで訪問済みノードを管理しています。

「始点と終点が同じでも良い」: ルールに基づき、移動先が始点と一致する場合のみ、再訪問を許可して経路を確定させています。

### 入力処理の工夫
手動テストの利便性を高めるため、EOF（ファイルの終わり）だけでなく、空行の入力でもデータの読み込みを完了する仕様にしています。